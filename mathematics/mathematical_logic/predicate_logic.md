# 述語論理（predicate logic）

変数を含んだ命題のことを**述語**という。
述語はそのままでは真偽が定まっていないが、変数の値が決まると通常の命題になり真偽が定まる。
述語の論理を扱う体系を**述語論理**という。

## 一階述語論理（first-order predicate logic）

最も単純な述語論理の体系。

### 言語（language）

1. 対象領域 $$D$$
2. 論理演算子 $$\vee,\ \wedge,\ \rightarrow,\ \neg$$
3. 限定子 $$\forall,\ \exists$$
4. 対象変数 $$x,\ y,\ \dots$$
5. 対象定数 $$c,\ d,\ \dots$$
6. 関数記号 $$f,\ g,\ \dots$$
7. 述語記号 $$P,\ Q,\ \dots$$
8. 区切り記号 $$","\ ()$$

※ここでいう言語とは、記号を利用して何かを記述する体系を指している。

### 項（term）

項は次のように帰納的に定義されるもののことである。

1. 対象変数、対象定数は項である
2. $$f$$ が $$m$$ 変数の関数記号であり、$$t_1, \cdots, t_m$$ が項なら、$$f(t_1, \cdots, t_m)$$ もまた項である

### 論理式

一階述語論理における論理式は次のように帰納的に定義される。

1. $$P$$ が $$n$$ 変数の述語記号で、$$t_1, \cdots, t_n$$ が項なら、$$P(t_1, \cdots, t_n)$$ は論理式である（これらを**原子論理式（atomic formula）**または**素式（prime formula）**と呼ぶ）
2. $$A,B$$ がともに論理式なら、これらを論理演算子で結合したものすなわち $$(A \wedge B)$$、$$(A\vee B)$$、$$(A \rightarrow B)$$、$$(\neg A)$$ はいずれも論理式である
3. $$A$$ が論理式で $$x$$ が対象変数なら、これらを限定子で結合したものすなわち $$(\forall x A)$$、$$(\exists x A)$$ はいずれも論理式である

### 自由変数・束縛変数

限定子と共に用いられる対象変数 $$\forall x, \exists x$$ を**束縛変数（bound variable）**、そうでないものを**自由変数（free variable）**という。

### 代入

自由変数を項で置き換えることを $$x$$ への $$t$$ の**代入**・$$x$$ の $$t$$ による**置換**と呼び、$$A[t/x]$$ と表す。

厳密には次のように帰納的に定義される。

1. $$s$$ を項とするとき、$$s$$ におけるすべての $$x$$ へ $$t$$ を代入して得られる項を $$s[t/x]$$ とする
2. $$A$$ が原子論理式 $$P(s_1, \cdots, s_n)$$ のとき、$$A[t/x] = P(s_1[t/x],\cdots,s_n[t/x])$$ とする
3. $$A[t/x],B[t/x]$$ を論理演算子で結合したものは $$C[t/x] = A[t/x] * B[t/x]$$ とする
4. $$A$$ が $$\forall z B, \exists B$$ なら、
    1. $$z=x$$ のときは $$A[t_x] = A$$（そのまま）とする
    2. $$z\neq x$$ のときは $$z$$ が $$t$$ に出現しなければそれぞれ $$A[t/x] = \forall z (B[t/x]), \ \exists z (B[t/x])$$ とし、$$z$$ が $$t$$ に出現するときは予め $$A$$ の中の $$z$$ を $$A$$ にも $$t$$ にも現れない対象変数 $$u$$ で書き換えそれぞれ $$\forall u((B[u/z])[t/x]), \ \exists u((B[u/z])[t/x])$$ とする

### 冠頭標準形

論理式の同値変換により限定子を前に括りだしたものを**冠頭標準形**という。

$$
(\forall or \exists)x_1 \cdots (\forall or \exists)x_n P(x_1, \cdots, x_n)
$$

### 節形式

論理式の同値変換により冠頭標準形の限定子の後の論理式を次の形式にしたものを**節形式**という。

1. 原子論理式または原子論理式の否定を**リテラル（literal）**という
2. リテラルを選言 $$\vee$$ で結んだものを**節（clause）**という
3. 節を連言 $$\wedge$$ で結んだものの外側に限定子を付けたものを**節形式（clause form）**という（連言で結んだ部分を**母式**という）

$$
(\forall or \exists)x_1 \cdots (\forall or \exists)x_n (C_1 \wedge \cdots \wedge C_n)
$$

※ $$C_i$$ は節

### スコーレム標準形

節形式の存在記号による束縛変数を削除したものを**スコーレム標準形**という。

スコーレム関数は新しい変数を導入するため論理式の等価性は失われる。
しかし、変換後が充足可能なら変換前も充足可能という充足可能性は等価のままである（つまり恒偽であるかは保たれる）。

$$
\forall x_1 \cdots \forall x_n (C_1 \wedge \cdots \wedge C_n)
$$

スコーレム標準形への変換は次のように行う。

1. $$\exists x P(x)$$ は $$P(a)$$ へ変換する
2. $$\forall x \exists y \exists z P(x,y,z)$$ は $$\forall x P(x, y, f(x, y))$$ へ変換する（$$f$$ を **スコーレム関数**と呼ぶ）
