# 誤り検出・訂正符号

通信で生じた誤りを検出するまたは訂正するための冗長性を持たせた符号化手法について言及する。
この項目では2元符号を想定して話を進める。

## パリティチェック（parity check）

ブロックの後に検査用のビット（**パリティビット**）を1ビット追加することで誤り検出手法。

ブロックに含まれる`1`の数が奇数のときにパリティビットを`1`とする方式を**偶数パリティ**、偶数のときにパリティビットを`1`とする方式を**奇数パリティ**という。
これは全体の`1`の数を偶数・奇数にする、という意味から名付けられている。

受信者はパリティビットを含めて`1`の数の偶奇を確認し、偶数（奇数）でなければ誤りを含むものと判断し、そのデータを棄却する。

パリティチェックは2箇所同時にエラーが生じる確率は低いという前提に立ったものであり、同じブロックで2箇所以上のエラーが生じるケースには対処できない。

## チェックサム（checksum）

ブロックの一部を切り取り、総和を取ったものをパリティビットとした誤り検出手法。
遇奇のみを調べるパリティチェックよりも広範囲のエラーを検出できる。

## 巡回冗長検査（cyclic redundancy check : CRC）

排他的論理和を利用したアルゴリズムから導かれる値をパリティビット（規格によって長さは変わる）とした誤り検出手法。
ブロック長や信頼度の設定に応じていくつかの規格が存在する。

CRCは今日のコンピューターのメインメモリに適用されており、メモリの読み出しの際にエラーを検出した場合はメモリコントローラーに警告付きでデータを返すようになっている。

[CRCの理論と実装](crc.md)

## MD5

MD5で得たデータブロックのハッシュ値を誤り検出用に添付する誤り検出手法。
計算コストが高いため回路レベルで利用されることはないが、データ通信などで利用される。

## ハミング符号（Hamming code）

1950年にR.W.Hammingにより提案された誤り訂正符号。

ハミング符号はパリティビット列を追加することで、任意の符号語の組のハミング距離が一定値以上になるよう設計される。
これにより、エラーが検出されたときはハミング距離が最も近い符号語に戻すことでエラーを訂正する。

ハミング距離が $$h$$ のハミング符号では $$h-1$$ 個までのエラーを確実に検出でき、$$h/2$$ より小さい個数のエラーなら正しく訂正できる。

>ハミング距離（Hamming distance）

>2つの符号語を見比べたときの、符号アルファベットが異なるビットの総数。
