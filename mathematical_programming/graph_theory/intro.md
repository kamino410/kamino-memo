# グラフ理論

グラフ理論は頂点・辺からなるグラフの性質について考察する分野。

## グラフの構成要素

* 頂点（vertex/node）
  * 頂点：$$u,v$$
  * 頂点の集合：$$V$$
  * 頂点数：$$|V|$$
* 辺・枝（edge/arc）
  * 辺：$$e$$
  * 辺の集合：$$E$$
  * 辺の数：$$|E|$$
  * $$e = (u,v) \in E$$
    * 順序対の代わりに辺の始点・終点を抽出する写像 $$\partial^+, \partial^-$$ で定義することもある

グラフ全体は $$G=(V,E)$$ もしくは $$G=(V,E;\partial^+,\partial^-)$$ と表現する。

## 基本的な用語

### パス（path）

ある頂点から辺・頂点を辿って別の頂点へ行くための経路を**パス**という。
形式的には頂点と枝の交互系列 $$(v_0, e_1, v_1, e_2, \cdots, v_k)$$ で表される。

有向グラフ上のパスが辺に設定された向きに従っているとき、これをとくに**有向路（directed path）**という。
ある頂点からある頂点へのパスが存在するとき、始点から終点へ**到達可能（reachable）**であるという。
同じ辺を2回以上通らないパスを**単純な路（simple path）**といい、同じ頂点を2回以上通らないパスを**初等的な路（elementary path）**という。

### 次数

グラフの頂点に結合する辺の数を**次数**という（ループの場合は2と換算する）。
有向グラフの場合は向きに応じて**入次数**・**出次数**とすることもある。

### 閉路・ループ（loop）

ある頂点から出発し自分に戻ってくるようなパスを**閉路**・**ループ**という。
とくに有向路からなる閉路を**有向閉路**という。

### 多重枝（parallel edge）

ある2つの頂点の間に複数の辺が存在するとき、これを**多重枝**という。

### カット（cut）

グラフの頂点を真部分集合 $$X\subsetneq V$$ とその補集合 $$X^c = V \backslash X$$ の2つのグループに分割するとき、異なるグループの点同士を結ぶ辺を**カット**という。
また、有向グラフのカットについてすべてのカットが一方のグループからもう一方のグループの向きに伸びているとき、これを**有向カット**という。

形式的に表現すると以下のようになる。

$$
\begin{eqnarray}
&\ & \partial^+(X) \cup \partial^-(X) \\
&\ & \begin{cases}
\partial^+(X) = \{e \in E \ | \ \partial^+ e \in E, \partial^- e \in V\backslash X\} \\
\partial^-(X) = \{e \in E \ | \ \partial^+ e \in V\backslash X, \partial^- e \in V\}
\end{cases}
\end{eqnarray}
$$

### 縮約（contraction）

頂点の部分集合 $$W \in V$$ について、新しい頂点 $$w$$ を追加し $$W$$ と $$V \backslash W$$ のカットの $$W$$ 側をすべて $$w$$ に接続した上で $$W$$ を削除する操作を **$$W$$ の縮約** という。

### 部分グラフ（subgraph）

$$V' \subset V, \ E' \subset E$$ と $$\partial^+, \partial^-$$ を $$E'$$ に制限した $$\partial^+_{E'}, \partial^-_{E'}$$ で表されるグラフ $$G'(V', E'; \partial^+_{E'}, \partial^-_{E'})$$ を**部分グラフ**という。

頂点はそのままに辺だけをいくつか取り去ったような部分グラフを**全域部分グラフ（spanning subgraph）**という。
抜き出した頂点間に定義される辺がすべて含まれているような部分グラフを**$$E'$$ が誘導する部分グラフ（subgraph induced by $$E'$$）**という。

パスや閉路を構成する頂点・辺の集合も部分グラフの一種である。

## 辺の性質による分類

### 有向グラフ・無向グラフ（directed graph / undirected graph）

辺に方向が与えられているグラフを**有向グラフ**、与えられていないグラフを**無向グラフ**という。

### 重み付きグラフ・ネットワーク（network）

辺にコストが与えられているグラフを**重み付きグラフ**・**ネットワーク**という。

### 単純グラフ（simple graph）

閉路・多重枝を含まないグラフを**単純グラフ**という。

## 形状による分類

### 完全グラフ

すべての二頂点間に辺が存在するグラフを**完全グラフ**という。

### 連結グラフ

無向グラフのうちすべての二頂点間でパスが存在するグラフを**連結グラフ**という。

### 木（tree）

グラフのうち連結かつ閉路を持たないグラフを**木**という。
また、有向グラフからなる木を**有向木**といい、有向木に根となる頂点（その他のすべての頂点へ有向路を持つ頂点）が存在する場合とくに**根付き木（rooted tree）**という。

木において辺が1つだけ接続されている頂点を**葉（leaf）**という。

単に閉路を含まないようなグラフは木の集合によって表されるグラフであり、これを**森（forest）**という。
また、あるグラフの全域部分グラフが木である場合、**全域木（spanning tree）**と呼ぶことがある。

ある連結グラフが木であるかの判定には $$|V|-1 = |E|$$ を満たすかを調べれば良い。

### 2部グラフ（bipartite graph）

頂点を2つのグループに分けたとき、グループ内の頂点同士の間に辺が存在しないグラフを**2部グラフ**という。

### 平面グラフ（planar graph）

平面上に枝を交差させることなく描画できるグラフを**平面グラフ**という。

### 双対グラフ（dual graph）

平面グラフ $$G = (V,E)$$ に対して次の操作を行うことで得られるグラフ $$G^* = (V^*,E^*)$$ を**双対グラフ**という。

1. $$G$$ の辺 $$e$$ で分割された平面の各領域に頂点 $$v^*_k$$ を1つずつ置き、その集合を $$V^*$$ とする
2. $$G$$ の辺 $$e$$ の右側の領域にある頂点 $$v^*_i$$ から左側の領域にある頂点 $$v^*_j$$ へ辺を追加し、その集合を $$E^*$$ とする

双対グラフは明らかに平面グラフである。

双対グラフは次の性質を満たす。

<center>
平面グラフ $$G=(V,E)$$ について $$C \subseteq E$$ が閉路（有向閉路）の枝集合である<br />⇔　$$C$$ は双対グラフ $$G^* = (V^*,E^*)$$ 上の極小なカット（極小な有向カット）と対応する
</center><br />

### 有向非巡回グラフ（Directed Acyclic Graph：DAG）

有向グラフのうち閉路を持たないグラフを**有向非巡回グラフ（DAG）**という。
DAGは次のような性質を持つ。

* 頂点の集合が半順序関係を持つ
* トポロジカルソートが行える

>トポロジカルソート

>順序関係の早い方から小さい値をつけて行く作業を**トポロジカルソート**という。

>この作業によって順序が確定しない頂点同士にも順序が与えられるため、**半順序関係を満たすような全順序関係の1つを求める**作業であるともいえる。
